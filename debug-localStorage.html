<!DOCTYPE html>
<html>
<head>
    <title>调试 localStorage</title>
</head>
<body>
    <h1>调试 localStorage 广告配置</h1>
    <button onclick="checkConfig()">检查当前配置</button>
    <button onclick="saveConfig()">强制保存配置</button>
    <button onclick="clearConfig()">清除配置</button>
    <div id="output"></div>
    
    <script>
        function checkConfig() {
            const config = localStorage.getItem('ad-config');
            const output = document.getElementById('output');
            if (config) {
                output.innerHTML = '<h3>当前配置:</h3><pre>' + JSON.stringify(JSON.parse(config), null, 2) + '</pre>';
            } else {
                output.innerHTML = '<p style="color: red;">没有找到配置</p>';
            }
        }
        
        function saveConfig() {
            const config = {
                showHomeBannerRow: true,
                showSidebarAds: true,
                showRedirectAd: true,
                homeBannerAds: [
                    {
                        id: 'banner1',
                        title: '示例广告1',
                        imageUrl: 'https://r2.sakinori.top/6e194add9120240905110255.webp',
                        clickUrl: 'https://example.com/link1',
                        description: '这是一个示例广告',
                        isActive: true
                    },
                    {
                        id: 'banner2',
                        title: '示例广告2',
                        imageUrl: 'https://r2.sakinori.top/6e194add9120240905110255.webp',
                        clickUrl: 'https://example.com/link2',
                        description: '这是另一个示例广告',
                        isActive: true
                    }
                ],
                sidebarAds: [],
                sidebarNavAds: [],
                redirectAd: {
                    id: 'redir-ad',
                    title: 'Redirect页面广告',
                    imageUrl: 'https://r2.sakinori.top/6e194add9120240905110255.webp',
                    clickUrl: 'https://example.com/redirect-link',
                    description: 'Redirect页面专属广告位',
                    isActive: true
                }
            };
            
            localStorage.setItem('ad-config', JSON.stringify(config));
            document.getElementById('output').innerHTML = '<p style="color: green;">配置已强制保存！</p>';
            console.log('广告配置已保存:', config);
        }
        
        function clearConfig() {
            localStorage.removeItem('ad-config');
            document.getElementById('output').innerHTML = '<p style="color: orange;">配置已清除！</p>';
        }
        
        // 页面加载时检查配置
        window.onload = function() {
            checkConfig();
        }
    </script>
</body>
</html>